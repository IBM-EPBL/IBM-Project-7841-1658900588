<!DOCTYPE html>
<html>

<head>
    <title>Upload image</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{url_for('static',filename='upload.css')}}">
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <form action="/getnutri" method="post" enctype="multipart/form-data">
        <div class="container uploadOuter ">
            <table class="uploadimage">
                <tr>
                    <th><label for="uploadFile" id="file">
                            <h2>Choose your image to upload</h2><i class="fa fa-file-photo-o"
                                style="font-size:48px;color:red"></i></i>

                        </label></th>
                    <th> </th>
                    <th>
                        <h3>OR</h3>
                    </th>

                    <th><span class="dragBox">
                            <h2>Drag and Drop image here</h2><i class="fa fa-file-photo-o"
                                style="font-size:48px;color:red"></i>
                            <input name="file" type="file" onChange="dragNdrop(event)" ondragover="drag()"
                                ondrop="drop()" id="uploadFile" required />
                        </span></th>
                </tr>
            </table>

            <button class="btn btn-primary btn-lg" id="b1" onclick="window.history.back()">Go Back </button>
            <button class="btn btn-primary btn-lg" id="b1" type="submit">Submit </button>

        </div>
    </form>
    </div>
    </div>
    <div>
        <table class="table table-bordered"><br /><br />
            <tr>
                <th scope="col" style="background-color:#050a30;color:white;">Calories</th>
                <td style="background-color:white;">{{calories}}</td>
            </tr>
            <tr>
                <th scope="col" style="background-color:#050a30;color:white;">Protein</th>
                <td style="background-color:white;">{{protein}}</td>

            </tr>
            <tr>
                <th scope="col" style="background-color:#050a30;color:white;">Fat</th>
                <td style="background-color:white;">{{fat}}</td>

            </tr>
            <tr>
                <th scope="col" style="background-color:#050a30;color:white;">Carbs</th>
                <td style="background-color:white;">{{carbs}}</td>
            </tr>

        </table>
    </div>

    <div id="preview" style="height:105px"> </div>

    </div>
    </div>
    <script>
            "use strict";
function dragNdrop(event) {
    var fileName = URL.createObjectURL(event.target.files[0]);
    var preview = document.getElementById("preview");
    var previewImg = document.createElement("img");
    previewImg.setAttribute("src", fileName);
    previewImg.setAttribute("width", "100px");
    previewImg.setAttribute("height", "100px");
    preview.innerHTML = "";
    preview.appendChild(previewImg);
}
function drag() {
    document.getElementById('uploadFile').parentNode.className = 'draging dragBox';
}
function drop() {
    document.getElementById('uploadFile').parentNode.className = 'dragBox';
}
    </script>
</body>

</html>